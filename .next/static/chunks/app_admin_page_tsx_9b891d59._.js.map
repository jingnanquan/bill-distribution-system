{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///E:/offer/bill-distribution-system/app/admin/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSession, signOut } from 'next-auth/react';\r\n\r\n/* ------- 固定选项 ------- */\r\nconst LANGS  = ['日语', '英语', '法语', '德语', '俄语'] as const;\r\nconst TASKS  = ['翻译', '质检', '后期', '审核'] as const;\r\nconst RATINGS = ['A', 'B', 'C', 'D'] as const;\r\n\r\nexport default function AdminPage() {\r\n  const { data: session, status } = useSession();\r\n\r\n  /* ===== 基本状态 ===== */\r\n  const [managers, setManagers] = useState<any[]>([]);\r\n  const [members,  setMembers]  = useState<any[]>([]);\r\n  const [showType, setShowType] = useState<'manager' | 'member'>('manager');\r\n  const [search,   setSearch]   = useState('');\r\n\r\n  /* ===== 新增用户状态 ===== */\r\n  const [showAddUser, setShowAddUser] = useState(false);\r\n  const [newRole, setNewRole] = useState<'manager' | 'member'>('manager');\r\n  const [newUser, setNewUser] = useState({\r\n    username: '', password: '', name: '',\r\n    phone: '', email: '', status: 'active',\r\n  });\r\n  const [skills, setSkills] = useState<any[]>([\r\n    { language: '', task: '', price: '', rating: '' },\r\n  ]);\r\n\r\n  /* ===== 编辑行状态 ===== */\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n  const [editData,   setEditData] = useState<any>({});\r\n\r\n  /* ===== 展开技能状态 ===== */\r\n  const [expandedId, setExpandedId] = useState<number | null>(null);\r\n  const [skillMap,   setSkillMap]   = useState<Record<number, any[]>>({});\r\n\r\n  /* ---------- 拉取用户列表 ---------- */\r\n  const fetchData = async (name = '') => {\r\n    const res  = await fetch(`/api/admin/users?name=${encodeURIComponent(name)}`);\r\n    const data = await res.json();\r\n    setManagers(data.managers);\r\n    setMembers(data.members);\r\n  };\r\n\r\n  /* ---------- 拉取指定接单员的技能 ---------- */\r\n  const fetchSkills = async (memberId: number) => {\r\n    const res  = await fetch(`/api/admin/users?memberId=${memberId}`);\r\n    const data = await res.json();\r\n    setSkillMap((prev) => ({ ...prev, [memberId]: data.skills }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (session?.user?.role === 'admin') fetchData();\r\n  }, [session]);\r\n\r\n  /* ---------- 工具函数 ---------- */\r\n  const clearNewUser = () => {\r\n    setNewUser({\r\n      username: '', password: '', name: '',\r\n      phone: '', email: '', status: 'active',\r\n    });\r\n    setSkills([{ language: '', task: '', price: '', rating: '' }]);\r\n  };\r\n\r\n  /* ---------- 用户增删改 ---------- */\r\n  const toggleStatus = async (id: number, role: string, status: string) => {\r\n    await fetch('/api/admin/users', {\r\n      method : 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body   : JSON.stringify({ id, role, status: status === 'active' ? 'frozen' : 'active' }),\r\n    });\r\n    fetchData(search);\r\n  };\r\n\r\n  const deleteUser = async (id: number, role: string) => {\r\n    if (!window.confirm('你确定要删除该用户？')) return;\r\n    const pwd = prompt('请输入管理员密码确认删除：');\r\n    if (!pwd) return;\r\n\r\n    const res = await fetch('/api/admin/users', {\r\n      method : 'DELETE',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body   : JSON.stringify({ id, role, adminPassword: pwd }),\r\n    });\r\n    if (res.status === 401) alert('密码错误，删除失败');\r\n    else {\r\n      alert('删除成功');\r\n      fetchData(search);\r\n    }\r\n  };\r\n\r\n  const submitNewUser = async () => {\r\n    await fetch('/api/admin/users', {\r\n      method : 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body   : JSON.stringify({\r\n        role: newRole,\r\n        user: newUser,\r\n        skills: newRole === 'member' ? skills : [],\r\n      }),\r\n    });\r\n    alert('创建成功');\r\n    fetchData();\r\n    setShowAddUser(false);\r\n    clearNewUser();\r\n  };\r\n\r\n  /* ---------- 保存技能修改 ---------- */\r\n  const saveSkills = async (memberId: number) => {\r\n    await fetch('/api/admin/users', {\r\n      method : 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body   : JSON.stringify({\r\n        id: memberId,\r\n        role: 'member',\r\n        skills: skillMap[memberId],\r\n      }),\r\n    });\r\n    alert('技能已保存');\r\n  };\r\n\r\n  /* ---------- 页面渲染 ---------- */\r\n  if (status === 'loading') return <div>加载中...</div>;\r\n  if (!session || session.user.role !== 'admin') return <div>无访问权限</div>;\r\n\r\n  const users = showType === 'manager' ? managers : members;\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      {/* 顶栏 */}\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div>\r\n          当前登录：<strong>{session.user.name}</strong>（管理员）\r\n        </div>\r\n        <button\r\n          onClick={() => signOut({ callbackUrl: '/login' })}\r\n          className=\"bg-red-500 text-white px-4 py-2 rounded\"\r\n        >\r\n          退出登录\r\n        </button>\r\n      </div>\r\n\r\n      <h1 className=\"text-2xl font-bold mb-4\">管理员人员管理</h1>\r\n\r\n      {/* 操作按钮组 */}\r\n      <div className=\"flex gap-4 mb-4\">\r\n        <button\r\n          className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n          onClick={() => setShowType('manager')}\r\n        >\r\n          项目经理\r\n        </button>\r\n        <button\r\n          className=\"bg-green-500 text-white px-4 py-2 rounded\"\r\n          onClick={() => setShowType('member')}\r\n        >\r\n          接单员\r\n        </button>\r\n\r\n        <input\r\n          placeholder=\"搜索姓名\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          className=\"border px-2 py-1\"\r\n        />\r\n        <button\r\n          onClick={() => fetchData(search)}\r\n          className=\"bg-gray-600 text-white px-4 py-1 rounded\"\r\n        >\r\n          搜索\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => setShowAddUser(!showAddUser)}\r\n          className=\"bg-purple-600 text-white px-4 py-1 rounded\"\r\n        >\r\n          {showAddUser ? '取消新增' : '新增用户'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* ---------------- 新增用户表单 ---------------- */}\r\n      {showAddUser && (\r\n        <div className=\"bg-gray-100 border p-4 mb-6\">\r\n          <h2 className=\"text-lg font-bold mb-2\">新增用户</h2>\r\n\r\n          {/* 角色选择 */}\r\n          <select\r\n            value={newRole}\r\n            onChange={(e) => setNewRole(e.target.value as any)}\r\n            className=\"mb-2 border px-2 py-1\"\r\n          >\r\n            <option value=\"manager\">项目经理</option>\r\n            <option value=\"member\">接单员</option>\r\n          </select>\r\n\r\n          {/* 基本字段 */}\r\n          {['username', 'password', 'name', 'phone', 'email'].map((f) => (\r\n            <input\r\n              key={f}\r\n              placeholder={f}\r\n              value={newUser[f as keyof typeof newUser]}\r\n              onChange={(e) =>\r\n                setNewUser({ ...newUser, [f]: e.target.value })\r\n              }\r\n              className=\"block border mb-2 px-2 py-1 w-full\"\r\n            />\r\n          ))}\r\n\r\n          {/* 只有接单员才填技能 */}\r\n          {newRole === 'member' && (\r\n            <div>\r\n              <h3 className=\"font-semibold mt-2\">技能信息：</h3>\r\n              {skills.map((s, i) => (\r\n                <div key={i} className=\"flex gap-2 mb-2\">\r\n                  <select\r\n                    value={s.language}\r\n                    onChange={(e) => {\r\n                      const upd = [...skills];\r\n                      upd[i].language = e.target.value;\r\n                      setSkills(upd);\r\n                    }}\r\n                    className=\"border px-2\"\r\n                  >\r\n                    <option value=\"\">语言</option>\r\n                    {LANGS.map((l) => (\r\n                      <option key={l}>{l}</option>\r\n                    ))}\r\n                  </select>\r\n\r\n                  <select\r\n                    value={s.task}\r\n                    onChange={(e) => {\r\n                      const upd = [...skills];\r\n                      upd[i].task = e.target.value;\r\n                      setSkills(upd);\r\n                    }}\r\n                    className=\"border px-2\"\r\n                  >\r\n                    <option value=\"\">任务</option>\r\n                    {TASKS.map((t) => (\r\n                      <option key={t}>{t}</option>\r\n                    ))}\r\n                  </select>\r\n\r\n                  <input\r\n                    placeholder=\"价格\"\r\n                    value={s.price}\r\n                    onChange={(e) => {\r\n                      const upd = [...skills];\r\n                      upd[i].price = e.target.value;\r\n                      setSkills(upd);\r\n                    }}\r\n                    className=\"border px-2 w-20\"\r\n                  />\r\n\r\n                  <select\r\n                    value={s.rating}\r\n                    onChange={(e) => {\r\n                      const upd = [...skills];\r\n                      upd[i].rating = e.target.value;\r\n                      setSkills(upd);\r\n                    }}\r\n                    className=\"border px-2\"\r\n                  >\r\n                    <option value=\"\">评级</option>\r\n                    {RATINGS.map((r) => (\r\n                      <option key={r}>{r}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              ))}\r\n              <button\r\n                onClick={() =>\r\n                  setSkills([\r\n                    ...skills,\r\n                    { language: '', task: '', price: '', rating: '' },\r\n                  ])\r\n                }\r\n                className=\"bg-blue-500 text-white px-2 py-1 rounded\"\r\n              >\r\n                添加技能\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={submitNewUser}\r\n            className=\"bg-green-600 text-white px-4 py-2 mt-4 rounded\"\r\n          >\r\n            提交新增\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* ---------------- 用户列表 ---------------- */}\r\n      <table className=\"table-auto w-full border-collapse border\">\r\n        <thead>\r\n          <tr className=\"bg-gray-100\">\r\n            <th className=\"border px-4 py-2\">用户名</th>\r\n            <th className=\"border px-4 py-2\">姓名</th>\r\n            <th className=\"border px-4 py-2\">电话</th>\r\n            <th className=\"border px-4 py-2\">邮箱</th>\r\n            <th className=\"border px-4 py-2\">状态</th>\r\n            <th className=\"border px-4 py-2\">操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((u: any) => (\r\n            <FragmentRow\r\n              key={u.id}\r\n              user={u}\r\n              showType={showType}\r\n              editingId={editingId}\r\n              editData={editData}\r\n              setEditData={setEditData}\r\n              setEditingId={setEditingId}\r\n              toggleStatus={toggleStatus}\r\n              deleteUser={deleteUser}\r\n              expandedId={expandedId}\r\n              setExpandedId={setExpandedId}\r\n              skillMap={skillMap}\r\n              fetchSkills={fetchSkills}\r\n              saveSkills={saveSkills}\r\n              LANGS={LANGS}\r\n              TASKS={TASKS}\r\n              RATINGS={RATINGS}\r\n              setSkillMap={setSkillMap}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ------------------------------------------------------------------ */\r\n/* 子组件：一行用户 + 可展开技能行                                     */\r\n/* ------------------------------------------------------------------ */\r\nimport React from 'react';\r\n\r\nfunction FragmentRow(props: any) {\r\n  const {\r\n    user: u,\r\n    showType,\r\n    editingId,\r\n    editData,\r\n    setEditData,\r\n    setEditingId,\r\n    toggleStatus,\r\n    deleteUser,\r\n    expandedId,\r\n    setExpandedId,\r\n    skillMap,\r\n    fetchSkills,\r\n    saveSkills,\r\n    LANGS,\r\n    TASKS,\r\n    RATINGS,\r\n    setSkillMap,\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      {/* ---------- 主行 ---------- */}\r\n      <tr key={u.id} className={u.status === 'frozen' ? 'text-gray-400' : ''}>\r\n        {['username', 'name', 'phone', 'email'].map((field) => (\r\n          <td key={field} className=\"border px-4 py-2\">\r\n            {editingId === u.id ? (\r\n              <input\r\n                value={editData[field]}\r\n                onChange={(e) =>\r\n                  setEditData({ ...editData, [field]: e.target.value })\r\n                }\r\n                className=\"border px-2 py-1 w-full\"\r\n              />\r\n            ) : (\r\n              u[field]\r\n            )}\r\n          </td>\r\n        ))}\r\n\r\n        <td className=\"border px-4 py-2\">{u.status}</td>\r\n        <td className=\"border px-4 py-2\">\r\n          {editingId === u.id ? (\r\n            <>\r\n              <button\r\n                onClick={async () => {\r\n                  await fetch('/api/admin/users', {\r\n                    method : 'PATCH',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body   : JSON.stringify({\r\n                      id: u.id,\r\n                      role: showType,\r\n                      ...editData,\r\n                    }),\r\n                  });\r\n                  setEditingId(null);\r\n                  window.location.reload();\r\n                }}\r\n                className=\"bg-green-600 text-white px-2 py-1 mr-1\"\r\n              >\r\n                保存\r\n              </button>\r\n              <button\r\n                onClick={() => setEditingId(null)}\r\n                className=\"bg-gray-400 text-white px-2 py-1\"\r\n              >\r\n                取消\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={() => {\r\n                  setEditingId(u.id);\r\n                  setEditData({\r\n                    username: u.username,\r\n                    name: u.name,\r\n                    phone: u.phone,\r\n                    email: u.email,\r\n                  });\r\n                }}\r\n                className=\"bg-blue-500 text-white px-2 py-1 mr-1 rounded\"\r\n              >\r\n                编辑\r\n              </button>\r\n\r\n              <button\r\n                className=\"bg-yellow-500 text-white px-2 py-1 mr-1 rounded\"\r\n                onClick={() => toggleStatus(u.id, showType, u.status)}\r\n              >\r\n                切换状态\r\n              </button>\r\n\r\n              <button\r\n                className=\"bg-red-500 text-white px-2 py-1 mr-1 rounded\"\r\n                onClick={() => deleteUser(u.id, showType)}\r\n              >\r\n                删除\r\n              </button>\r\n\r\n              {showType === 'member' && (\r\n                <button\r\n                  className=\"bg-purple-600 text-white px-2 py-1 rounded\"\r\n                  onClick={async () => {\r\n                    if (expandedId === u.id) {\r\n                      setExpandedId(null);\r\n                      return;\r\n                    }\r\n                    setExpandedId(u.id);\r\n                    if (!skillMap[u.id]) await fetchSkills(u.id);\r\n                  }}\r\n                >\r\n                  {expandedId === u.id ? '收起' : '展开'}\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n        </td>\r\n      </tr>\r\n\r\n      {/* ---------- 展开行（仅接单员） ---------- */}\r\n      {showType === 'member' && expandedId === u.id && (\r\n        <tr>\r\n          <td colSpan={6} className=\"border px-4 py-2 bg-gray-50\">\r\n            <h4 className=\"font-bold mb-2\">技能列表</h4>\r\n\r\n            {(skillMap[u.id] || []).map((s: any, idx: number) => (\r\n              <div key={idx} className=\"flex gap-2 mb-1 items-center\">\r\n                {/* 语言 */}\r\n                <select\r\n                  value={s.language}\r\n                  onChange={(e) => {\r\n                    const copy = [...skillMap[u.id]];\r\n                    copy[idx].language = e.target.value;\r\n                    setSkillMap((prev) => ({ ...prev, [u.id]: copy }));\r\n                  }}\r\n                  className=\"border px-2\"\r\n                >\r\n                  {LANGS.map((l) => (\r\n                    <option key={l}>{l}</option>\r\n                  ))}\r\n                </select>\r\n\r\n                {/* 任务 */}\r\n                <select\r\n                  value={s.task}\r\n                  onChange={(e) => {\r\n                    const copy = [...skillMap[u.id]];\r\n                    copy[idx].task = e.target.value;\r\n                    setSkillMap((prev) => ({ ...prev, [u.id]: copy }));\r\n                  }}\r\n                  className=\"border px-2\"\r\n                >\r\n                  {TASKS.map((t) => (\r\n                    <option key={t}>{t}</option>\r\n                  ))}\r\n                </select>\r\n\r\n                {/* 价格 */}\r\n                <input\r\n                  value={s.price}\r\n                  onChange={(e) => {\r\n                    const copy = [...skillMap[u.id]];\r\n                    copy[idx].price = e.target.value;\r\n                    setSkillMap((prev) => ({ ...prev, [u.id]: copy }));\r\n                  }}\r\n                  className=\"border px-2 w-20\"\r\n                />\r\n\r\n                {/* 评级 */}\r\n                <select\r\n                  value={s.rating}\r\n                  onChange={(e) => {\r\n                    const copy = [...skillMap[u.id]];\r\n                    copy[idx].rating = e.target.value;\r\n                    setSkillMap((prev) => ({ ...prev, [u.id]: copy }));\r\n                  }}\r\n                  className=\"border px-2\"\r\n                >\r\n                  {RATINGS.map((r) => (\r\n                    <option key={r}>{r}</option>\r\n                  ))}\r\n                </select>\r\n\r\n                {/* 删除按钮 */}\r\n                <button\r\n                  onClick={() => {\r\n                    if (!window.confirm('确定删除该技能？')) return;\r\n                    const copy = [...skillMap[u.id]];\r\n                    copy.splice(idx, 1);          // 移除当前行\r\n                    setSkillMap((prev) => ({ ...prev, [u.id]: copy }));\r\n                  }}\r\n                  className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                >\r\n                  删除\r\n                </button>\r\n              </div>\r\n            ))}\r\n\r\n            {/* 添加技能行 */}\r\n            <button\r\n              onClick={() =>\r\n                setSkillMap((prev) => ({\r\n                  ...prev,\r\n                  [u.id]: [\r\n                    ...(prev[u.id] || []),\r\n                    { language: LANGS[0], task: TASKS[0], price: '', rating: 'A' },\r\n                  ],\r\n                }))\r\n              }\r\n              className=\"bg-blue-500 text-white px-2 py-1 mt-2 mr-2 rounded\"\r\n            >\r\n              添加技能\r\n            </button>\r\n\r\n            {/* 保存技能按钮 */}\r\n            <button\r\n              onClick={() => saveSkills(u.id)}\r\n              className=\"bg-green-600 text-white px-2 py-1 mt-2 rounded\"\r\n            >\r\n              保存技能\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}